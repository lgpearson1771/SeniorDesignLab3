<!DOCTYPE html>
<html>
<%if !params[:action].starts_with?("login") && session[:user_id].nil? %>
<div class="topnav">
  <a class="active" href="/">Log Out</a>
  <a href="/polls">My Polls</a>
  <a href="/polls/new">Create Poll</a>
  <a class="title" href="" style="font-family: 'Mochiy Pop One', sans-serif; text-align: center">Doodle Hub</a>

</div>
<% elsif !params[:action].starts_with?("login")  %>
  <div class="topnav">
    <a class="active" href="/users/logout/<%=params[:id] %>">Log Out</a>
    <a class="title" href="" style="font-family: 'Mochiy Pop One', sans-serif; text-align: center">Doodle Hub</a>
  </div>
<%end%>


<head>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Mochiy+Pop+One&display=swap" rel="stylesheet">
  <%if ! (params[:action].starts_with?("login") && params[:controller].starts_with?("polls") )%>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/water.css@2/out/light.css">
  <%end%>
  <title>SeniorDesignLab3</title>
  <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track' => true %>
  <%= javascript_include_tag 'application', 'data-turbolinks-track' => true %>
  <%= csrf_meta_tags %>
</head>
<body>

<%if !(params[:action].starts_with?("login"))%>
<div style="text-align: center; font-size: large">
  <% if flash[:notice]%>
    <div class="notice"><%= flash[:notice]%></div>
  <% elsif flash[:warning]%>
    <div class="warning"><%= flash[:warning]%></div>
  <% end %>
  <div id="loading_bar" class="grey"><div class="load"></div> loading ... </div>
</div>
  <% end %>
<style>
  .grey {
    margin-top: 70px;

    border-radius: 12px;
  }
  .load {

    height: 40px;
    width: 40px;
    background: rgba(0, 0, 0, 0.4);
    border-radius: 50%;
    border-top: 2px solid #1D9AF2;
    border-right: 2px solid transparent;
    border-bottom:none;
    border-left:none;
    animation: spinner5 700ms linear infinite;
    position: fixed;
  }
  @keyframes spinner5 {
    to {
      transform: rotate(360deg);
    }
  }
</style>

  <script>$("#loading_bar").hide()</script>







<%= yield %>


</body>
</html>
